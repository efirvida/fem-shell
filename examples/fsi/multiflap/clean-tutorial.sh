#!/bin/bash
# ==============================================
#     FSI TUTORIAL CLEANER - MULTIFLAP CASE
# ==============================================
# This script removes all generated files and simulation results
# to reset the case to a clean state.

echo "ðŸ§¹ [CLEANUP] Cleaning multiflap FSI tutorial..."

# Remove preCICE runtime files and logs
echo "   â€¢ Removing preCICE runtime and logs..."
rm -rf precice-run
rm -rf *.log
rm -rf logs_archive

# Remove files generated by scripts/generate_all.py
echo "   â€¢ Removing generated configuration files..."

# Generated fluid files
rm -f fluid/system/blockMeshDict
rm -f fluid/system/controlDict
rm -f fluid/system/preciceDict

# Generated preCICE configuration
rm -f precice-config.xml

# Generated solid configuration  
rm -f solid/solid_config.yaml

# Clean fluid directory (OpenFOAM results)
echo "   â€¢ Cleaning fluid simulation results..."
cd fluid && ./clean.sh &> /dev/null
cd ..

# Clean solid directory (FEM results)
echo "   â€¢ Cleaning solid simulation results..."
cd solid && ./clean.sh &> /dev/null  
cd ..

# Remove any remaining generated files
echo "   â€¢ Removing other generated files..."
rm -f *.png
rm -f *.vtk
rm -f *.csv
rm -f *.dat

echo "âœ… [CLEANUP] Tutorial cleaned successfully!"
echo "   Run 'python3 scripts/generate_all.py' to regenerate configuration files."
